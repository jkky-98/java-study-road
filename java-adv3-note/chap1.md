# 람다가 필요한 이유

값 매개변수화는 매우 쉽다. 구체적인 값을 메서드 안에 하드코딩하는 것이 아니라 매개변수 즉 인자로 받아 메서드의 동작을 매개변수에 따라 달리하도록 하는 것이다.

만약 값이 아니라 `코드조각`을 매개변수화 시키려면 어떻게 해야할까? 즉, 값을 부여받고 값을 동적으로 사용하는 것이 아니라 특정 영역 자체를 매개변수화 시키려면 어떻게 해야할까?

우선 값 매개변수 때처럼 공통 영역과 동적 영역을 분리가능해야한다. 인터페이스를 만들고 run()이라는 메서드를 만든다. 그리고 구현체를 만들고 구현체의 오버라이드 run()메서드에 동적 영역에 해당하는 코드를 작성한다.

그리고 실행할 메서드의 파라미터에는 인터페이스 타입의 객체를 받도록 정의하고 동적 영역에 해당하는 곳에서 객체.run()을 호출해준다. 이곳에는 해당 인터페이스 타입의 구현 객체들이 들어올 수 있게 되어 각기 다른 run()을 수행할 수 있다.

이 과정은 값을 파라미터로 받아 파라미터를 사용하는 것과 달리 꽤나 복잡하다. 코드 영역자체를 동적화 할 수 있어 좋지만 값 파라미터화와 다르게 코드가 많이 생성된다. 특히 클래스가 많이 생성될 수 있다. 눈으로 보기에 굉장히 부담스러운 상태가 된다.

그 다음 방법으로는 익명 클래스 작성으로 부담을 약간 줄일 수 있다.

Procedure dice = new Procedure() {
    @Override
    public void run() {
        int randomValue = new Random().nextInt(6) + 1;
        System.out.println("주사위 = " + randomValue);
    }
};

이렇게 말이다. 선행조건으로는 Procedure이란 인터페이스가 필요하고 run()이 정의되어있어야 한다.

즉 구현체 클래스 작성없이 객체 생성을 할 수 있는 것이 익명 클래스이다.

이 직접 인자로 익명클래스를 전달하게 되면 인텔리제이를 사용하는 사람이라면 람다 교체 의견을 IDE가 제시한다.

## 함수 vs 메서드 :: 코드조각을 매개변수화 시키는 것이 까다로운 이유

함수는 독립적으로 존재하며 클래스와 직접적인 연관이 없다. 자바에서의 함수 즉 메서드는 항상 클래스 안에서 정의된다. 그렇기에 메서드라는 이름이 붙는다.

다른 프로그래밍 언어 파이썬의 함수는 클래스없이 존재가능하며, 클래스 안에서도 존재할 수 있다. 물론 클래스 안에 존재한다면 이는 메서드가 된다.

그렇기에 "함수"를 지원하는 함수형 프로그래밍 언어는 함수를 넘기는 것이 어렵지 않다.

```python
def farewell(name):
    return f"Goodbye, {name}."

# 함수를 인자로 받는 함수
def print_message(func, name):
    message = func(name)
    print(message)

print_message(farewell, "Bob")    # Goodbye, Bob.    
```

클래스 안에서 적힐 수 있다하더라도 독립적으로 존재가 가능하다면 해당 언어에서는 메서드,함수를 구분하지 않고 그냥 함수라고 일컫는다.

자바는 “오로지” 함수가 클래스 내에서 정의되어야 하기때문에 메서드라고 일컬어진다.

## 익명 클래스 vs 람다
```
// 익명 클래스
Procedure procedure = new Procedure() {
    @Override
    public void run() {
        System.out.println("Hello Lambda!");
    }
};

procedure.run();

// 람다 사용
Procedure procedure = () -> {
    System.out.println("Hello Lambda!");
};

procedure.run();
```
필요없는 부분을 모두 지워주는 것 처럼 보인다.

람다의 궁극적 목표는 함수형 프로그래밍에 있지만 우선 이 문법에 익숙해지기 위해 위 내용을 간추려 핵심을 짚어보고자 한다.

1. 코드 뭉치를 인자로 받기 위해서 어떻게 해야할까?
2. 1번의 질문에 답을 하기 위해서는 코드 뭉치를 실행할 방법은 자바에서는 메서드뿐이라는 것을 알아야한다.
3. 그렇다면 메서드를 인자로 받기 위해서는 어떻게 해야할까?
4. 메서드는 자바에서 무조건 클래스 안에 작성되어야 한다.
5. 인터페이스에 메서드 하나를 정의하고 이를 구현하는 구현 클래스와 구현 메서드 하나를 만들어서 구현 클래스로 하여금 객체를 생성해서 객체를 인자에 전달하고, 전달받는 자는 객체로 하여금 코드뭉치가 담긴 메서드를 실행한다.
6. 매우 복잡하고 작성할 것들, 즉 관리할 것들이 많아진다.
7. 그렇기에 부담없는 익명클래스를 활용한다. 타입은 인터페이스로 해서 말이다.
8. 익명클래스로 만들어진 객체와 메서드가 하나일 경우 “람다” 사용이 가능해진다.
9. 위 과정을 이해하고, 1차적으로 람다 문법에 적용하기 위해 “메서드를 하나 가진 익명클래스”는 람다 변환이 가능하다는 것에 익숙해지자.
